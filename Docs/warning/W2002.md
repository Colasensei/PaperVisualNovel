# W2002 - 插件缺失

## 代码信息

- **代码**: `W2002`
- **类型**: 警告
- **等级**: WARNING
- **描述**: 脚本需要的插件未安装或配置不完整

## 含义

此警告表示游戏脚本尝试使用一个未安装或配置不完整的插件。游戏可能会继续执行，但相关功能不可用。

## 触发条件

- 脚本中执行 `use` 命令，但插件目录不存在
- 插件目录缺少 `about.cfg` 配置文件
- 插件配置文件中缺少必要的 `RunCommand` 或 `RunFile` 字段
- `runPlugin()` 函数无法找到插件目录

## 示例输出

```
[2024-01-01 12:00:00] WARNING [W2002] Plugins directory does not exist: Plugins
[2024-01-01 12:00:00] WARNING [W2002] Plugin calculator missing about.cfg file
[2024-01-01 12:00:00] WARNING [W2002] Plugin image_viewer missing required fields (RunCommand or RunFile)
```

## 控制台输出

```
ERROR [W2002] PluginError: Required plugin 'audio_player' is not installed
       > Line 45: use audio_player 2.0.0
         ~~~~~~~~~~~~^~~~~~~~~~~~~~~
       Hint: Download the plugin and place it in Plugins/audio_player/ directory
       See: https://github.com/Colasensei/PaperVisualNovel/tree/master/Docs/errors/W2002.md
```

## 解决方案

1. 下载所需插件
2. 将插件文件夹放置在 `Plugins/` 目录下
3. 确保插件目录包含 `about.cfg` 配置文件
4. 验证 `about.cfg` 包含 `RunCommand` 和 `RunFile` 字段

## 插件目录结构示例

```
Plugins/
├── audio_player/
│   ├── about.cfg
│   └── player.exe
├── image_viewer/
│   ├── about.cfg
│   └── viewer.py
└── calculator/
    ├── about.cfg
    └── calc.js
```

## 相关代码

- [I1004](I1004.md) - 插件加载成功
- [W2003](W2003.md) - 版本不匹配
- [E3006](E3006.md) - 插件执行失败
